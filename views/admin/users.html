{% include "admin/_header.html" %}

<h1>ユーザー：users</h1>
<p>ユーザー情報の取得・変更・削除を行えます（要ログイン）</p>

<div id="api01">

	<h2>メソッド：GET</h2>
	<p>URL:http://nizistagram.com/api/v1/users</p>

	<div class="panel">
	ログイン中のユーザー情報の取得します
	</div>

	<h2>動作確認</h2>

	<button type="button" class="btn btn-danger">送信</button>

	<script>
	$("#api01 button").click(function(){
		var apiPath = 'http://nizistagram.com/api/v1/';

		$.ajax({
			url: apiPath + 'users',
			type: 'GET',
			dataType: 'json',
			timeout:1000,
			success: function(data) {
				$("#api01 pre").html(JSON.stringify(data, null, '  '));
			},
			error: function(data) {
				$("#api01 pre").html(JSON.stringify(data, null, '  '));
			}
		});
	});
	</script>

	<hr>
	
	<h2>戻り値</h2>
	<table class="table table-striped table-bordered table-condensed">
		<tbody>
			<tr>
				<td>ステータスコード</td>
				<td>200:成功 400:失敗</td>
			</tr>
			<tr>
				<td class="col-sm-2">JSONデータ</td>
				<td class="col-sm-10">
					<table class="table table-striped table-bordered table-condensed">
						<tbody>
							<tr>
								<td>mail</td>
								<td>メールアドレス</td>
							</tr>
							<tr>
								<td>nickname</td>
								<td>ニックネーム</td>	
							</tr>
							<tr>
								<td>created</td>
								<td>登録日時</td>	
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>

	<hr>

	<h2>結果</h2>
	<pre>
	</pre>

	<hr>
</div>

<div id="api02">

	<h2>メソッド：PUT</h2>
	<p>URL:http://nizistagram.com/api/v1/users</p>

	<div class="panel">
	ログイン中のユーザー情報を更新します
	</div>

	<h3>パラメーター</h3>
	<table class="table table-striped table-bordered table-condensed">
		<tbody>
			<tr>
				<td>mail</td>
				<td>メールアドレス</td>
			</tr>
			<tr>
				<td>nickname</td>
				<td>ニックネーム</td>
			</tr>
		</tbody>
	</table>

	<hr>

	<h2>動作確認</h2>

	<form>
		<div class="form-group">
	    	<input type="email" name="mail" value="" placeholder="メールアドレス">
		</div>
		<div class="form-group">
	    	<input type="text" name="nickname" value="" placeholder="ニックネーム">
		</div>
	    <button type="button" class="btn btn-danger">送信</button>
	</form>

	<script>
	$("#api02 button").click(function(){
		var apiPath = 'http://nizistagram.com/api/v1/';

		var data = {
			mail : $('#api02 input[name="mail"]').val(),
			nickname :$('#api02 input[name="nickname"]').val()
		};

		console.log(data);

		$.ajax({
			url: apiPath + 'users',
			type: 'PUT',
			data: data,
			dataType: 'json',
			timeout:1000,
			success: function(data) {
				$("#api02 pre").html(JSON.stringify(data, null, '  '));
			},
			error: function(data) {
				$("#api02 pre").html(JSON.stringify(data, null, '  '));
			}
		});
	});
	</script>

	<hr>
	
	<h2>戻り値</h2>
	<table class="table table-striped table-bordered table-condensed">
		<tbody>
			<tr>
				<td>ステータスコード</td>
				<td>200:成功 400:失敗</td>
			</tr>
			<tr>
				<td class="col-sm-2">JSONデータ</td>
				<td class="col-sm-10">
					<table class="table table-striped table-bordered table-condensed">
						<tbody>
							<tr>
								<td>id</td>
								<td>ユーザーID</td>
							</tr>
							<tr>
								<td>mail</td>
								<td>メールアドレス</td>
							</tr>
							<tr>
								<td>nickname</td>
								<td>ニックネーム</td>	
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>

	<hr>

	<h2>結果</h2>
	<pre>
	</pre>

	<hr>
</div>

<div id="api03">

	<h2>メソッド：DELETE</h2>
	<p>URL:http://nizistagram.com/api/v1/users</p>

	<div class="panel">
	ログイン中のユーザー情報を削除します（退会処理）
	</div>

	<h2>動作確認</h2>

	<button type="button" class="btn btn-danger">送信</button>

	<script>
	$("#api03 button").click(function(){
		var apiPath = 'http://nizistagram.com/api/v1/';

		$.ajax({
			url: apiPath + 'users',
			type: 'DELETE',
			dataType: 'json',
			timeout:1000,
			success: function(data) {
				$("#api03 pre").html(JSON.stringify(data, null, '  '));
			},
			error: function(data) {
				$("#api03 pre").html(JSON.stringify(data, null, '  '));
			}
		});
	});
	</script>

	<hr>
	
	<h2>戻り値</h2>
	<table class="table table-striped table-bordered table-condensed">
		<tbody>
			<tr>
				<td>ステータスコード</td>
				<td>200:成功 400:失敗</td>
			</tr>
			<tr>
				<td class="col-sm-2">JSONデータ</td>
				<td class="col-sm-10">
					<table class="table table-striped table-bordered table-condensed">
						<tbody>
							<tr>
								<td>id</td>
								<td>ユーザーID</td>
							</tr>
							<tr>
								<td>mail</td>
								<td>メールアドレス</td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>

	<hr>

	<h2>結果</h2>
	<pre>
	</pre>

	<hr>
</div>


{% include "admin/_footer.html" %}